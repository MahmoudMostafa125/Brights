package com.noorapp.noor.adapter;import android.content.Context;import android.content.SharedPreferences;import android.support.v7.widget.RecyclerView;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.TextView;import com.noorapp.noor.R;import com.noorapp.noor.models.ChatModel.Message;import com.noorapp.noor.models.ChatModel.MessageType;import java.util.List;import static com.facebook.FacebookSdk.getApplicationContext;public class MessagingAdapter extends RecyclerView.Adapter<RecyclerView.ViewHolder> {    private List<Message> messages;    private Context context;    /**     * Constructor for Adapter     *     * @param messages list of messages will showed     * @param context  context     */    public MessagingAdapter(List<Message> messages, Context context) {        this.messages = messages;        this.context = context;    }    @Override    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {        /**         * check the type of view and return holder         */        if (viewType == MessageType.SENT_TEXT) {            return new SentTextHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.row_sent_message_text, parent, false));        } else if (viewType == MessageType.RECEIVED_TEXT) {            return new ReceivedTextHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.row_received_message_text, parent, false));        }        return null;    }    @Override    public void onBindViewHolder(RecyclerView.ViewHolder mHolder, int position) {        int type = getItemViewType(position);        Message message = messages.get(position);        /**         * check message type and init holder to user it and set data in the right place for every view         */        if (type == MessageType.SENT_TEXT) {            SentTextHolder holder = (SentTextHolder) mHolder;//            holder.tvTime.setText(message.getTime());            holder.tvMessageContent.setText(message.getContent());        } else if (type == MessageType.RECEIVED_TEXT) {            ReceivedTextHolder holder = (ReceivedTextHolder) mHolder;          //  holder.tvTime.setText(message.getTime());            holder.tvUsername.setText(message.getUsername());            holder.tvMessageContent.setText(message.getContent());        }    }    @Override    public int getItemCount() {        return messages.size();    }    @Override    public int getItemViewType(int position) {        /**         * check the user id to detect if message sent or received         **/        Message message = messages.get(position);        if (message.getType().equals("1")) {            return MessageType.SENT_TEXT;        } else {            return MessageType.RECEIVED_TEXT;        }    }    // sent message holders    class SentMessageHolder extends RecyclerView.ViewHolder {        TextView tvTime;        public SentMessageHolder(View itemView) {            super(itemView);          //  tvTime = itemView.findViewById(R.id.tv_time);        }    }    // sent message with type text    class SentTextHolder extends SentMessageHolder {        TextView tvMessageContent;        public SentTextHolder(View itemView) {            super(itemView);            tvMessageContent = itemView.findViewById(R.id.tv_message_content);        }    }    // received message holders    class ReceivedMessageHolder extends RecyclerView.ViewHolder {        TextView tvUsername;        TextView tvTime;        public ReceivedMessageHolder(View itemView) {            super(itemView);            tvUsername = itemView.findViewById(R.id.tv_username);          //  tvTime = itemView.findViewById(R.id.tv_time);        }    }    // received message with type text    class ReceivedTextHolder extends ReceivedMessageHolder {        TextView tvMessageContent;        public ReceivedTextHolder(View itemView) {            super(itemView);            tvMessageContent = itemView.findViewById(R.id.tv_message_content);        }    }}